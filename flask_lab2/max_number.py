"""
Реализуйте endpoint, начинающийся с /max_number, в который можно передать список чисел, разделённых слешем /.
Endpoint должен вернуть текст «Максимальное переданное число {number}»,
где number — выделенное курсивом наибольшее из переданных чисел.

Примеры:

/max_number/10/2/9/1
Максимальное число: 10

/max_number/1/1/1/1/1/1/1/2
Максимальное число: 2
"""

from flask import Flask

app = Flask(__name__)


@app.route("/max_number/<path:numbers>")
def max_number(numbers):
    """
    Находит и возвращает максимальное число из списка чисел, переданных в URL.

    Args:
        numbers: Строка с числами, разделенными слешем /

    Returns:
        Сообщение с максимальным числом, выделенным курсивом
    """
    # Разбиваем строку по слешу и преобразуем элементы в числа
    number_list = numbers.split('/')

    # Список для хранения валидных чисел
    valid_numbers = []

    for num in number_list:
        try:
            # Преобразуем строку в число
            valid_numbers.append(int(num))
        except ValueError:
            # Если строка не является числом, пропускаем её
            continue

    # Если в списке нет валидных чисел, возвращаем сообщение об ошибке
    if not valid_numbers:
        return "Не найдено валидных чисел. Пожалуйста, введите числа через слеш."

    # Находим максимальное число
    max_num = max(valid_numbers)

    # Возвращаем результат с выделенным курсивом максимальным числом
    return f"Максимальное число: <i>{max_num}</i>"


if __name__ == "__main__":
    app.run(debug=True)